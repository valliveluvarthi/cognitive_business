<div>
    <form [formGroup]="userForm" #f="ngForm">
        <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Invite Users</h4>
        <fa-icon
            (click)="activeModal.dismiss()"
            [icon]="faTimes"
            class="icon-circle icon-cross"
        ></fa-icon>
        </div>
        <div class="modal-body">
            <div class="form-group container" formArrayName="items">
                <div class="row" *ngFor="let quantity of items().controls; let i=index" [formGroupName]="i">    
                    <div class="col-sm-auto col-name">
                        <mat-form-field class="example-full-width" appearance="fill">
                            <mat-label>First Name *</mat-label>
                            <input matInput formControlName="firstname" name="firstName" autocomplete="off">
                        </mat-form-field>
                    </div>
                    <div class="col-sm-auto col-name">
                        <mat-form-field class="example-full-width" appearance="fill">
                            <mat-label>Last Name *</mat-label>
                            <input matInput formControlName="lastname" name="lastName" autocomplete="off">
                        </mat-form-field>
                    </div>
                    <div class="col-sm-auto col-role">
                        <div ngbDropdown class="d-inline-block dd dropdown-input">
                        <mat-form-field appearance="fill" ngbDropdownToggle>
                            <mat-label>Role *</mat-label>
                            <input matInput formControlName="role" value="{{ selectedUserRole[i] }}" name="userRole" autocomplete="off" readonly>
                            <fa-icon [icon]="faChevronDown" class="icon-circle icon-cross dropdown-input-down-arrow"></fa-icon>
                        </mat-form-field>
                        <div ngbDropdownMenu class="dd-menu dropdown-input-menu">
                            <ng-container *ngFor="let item of userRoles">
                            <button (click)="selectUserRole(i, item)" ngbDropdownItem>
                                {{ item }}
                            </button>
                            </ng-container>
                        </div>
                        </div>
                    </div>
                    <div class="col-sm-auto col-email">
                        <mat-form-field class="example-full-width" appearance="fill">
                            <mat-label>Email *</mat-label>
                            <input matInput type="email" formControlName="email" name="userEmail" autocomplete="off">
                        </mat-form-field>
                    </div>
                    <div class="col-sm-auto margin-cross-icon" (click)="removeItem(i)">
                        <fa-icon [icon]="faTimesCircle" class="icon-circle icon-cross"></fa-icon>
                    </div>
                    
                </div>
                <div class="row">
                    <div class="col-sm-auto">
                        <div class="modal-btn-save btn-add-user" (click)="addItem()"><fa-icon [icon]="faPlusCircle" class="icon-circle icon-cross icon-color"></fa-icon> Add User</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="modal-btn-cancel margin-right" (click)="activeModal.close()">Cancel</div>
            <div class="modal-btn-save margin-right" (click)="createUsers()">Create User Only</div>
            <div class="modal-btn-save" (click)="createUserAndSendInvite()">Create User & Send Invites</div>
        </div>
    </form>
</div>