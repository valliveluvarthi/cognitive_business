<div class="content-wrapper">
    <form [formGroup]="form" #f="ngForm">
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Current Access</h4>
            <fa-icon (click)="activeModal.dismiss()" [icon]="faTimes" class="icon-circle icon-cross"></fa-icon>
        </div>
        <div class="modal-body">
            <div class="container">
                <div class="row">
                    <div class="col-sm">
                        Site
                    </div>
                    <div class="col-sm">
                        Role
                    </div>
                    <div class="col-sm">

                    </div>
                </div>
                <div class="row" *ngFor="let row of ELEMENT_DATA; let i = index;">
                    <div class="col-sm column-padding">
                        <span>{{row.site}}</span>
                    </div>
                    <div class="col-sm">
                        <div ngbDropdown class="d-inline-block dd dropdown-input">
                            <mat-form-field class="example-full-width" appearance="fill" ngbDropdownToggle>
                                <input matInput formControlName="{{row.site}}"
                                    readonly />
                                <fa-icon [icon]="faChevronDown"
                                    class="icon-circle icon-cross dropdown-input-down-arrow"></fa-icon>
                            </mat-form-field>
                            <div ngbDropdownMenu class="dd-menu dropdown-input-menu">
                                <ng-container *ngFor="let item of userRoles">
                                    <button (click)="selectUserRole(item,i,row)" ngbDropdownItem>
                                        {{ item }}
                                    </button>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm column-button-padding">
                            <button class="btn btn-default" (click)="onDelete(i,row)">Delete</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm column-site-select">
                            <div ngbDropdown class="d-inline-block dd dropdown-input">
                                <mat-form-field class="example-full-width" appearance="fill" ngbDropdownToggle>
                                    <input matInput formControlName="site" name="userSite"
                                    id="site-menu" value="{{selectedUserSite}}"
                                        readonly />
                                    <fa-icon [icon]="faChevronDown"
                                        class="icon-circle icon-cross dropdown-input-down-arrow"></fa-icon>
                                </mat-form-field>
                                <div ngbDropdownMenu class="dd-menu dropdown-input-menu">
                                    <ng-container *ngFor="let item of ELEMENT_DATA">
                                        <button (click)="selectUserSite(item)" ngbDropdownItem>
                                            {{ item.site }}
                                        </button>
                                    </ng-container>
                                </div>
                            </div>
                    </div>
                    <div class="col-sm">
                        <div ngbDropdown class="d-inline-block dd dropdown-input">
                            <mat-form-field class="example-full-width" appearance="fill" ngbDropdownToggle>
                                <input matInput formControlName="role"  id="role-menu"
                                    readonly />
                                <fa-icon [icon]="faChevronDown"
                                    class="icon-circle icon-cross dropdown-input-down-arrow"></fa-icon>
                            </mat-form-field>
                            <div ngbDropdownMenu class="dd-menu dropdown-input-menu">
                                <ng-container *ngFor="let item of userRoles">
                                    <button (click)="selectUserRole(item,'','')" ngbDropdownItem>
                                        {{ item }}
                                    </button>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm column-button-padding">
                        <button class="btn btn-default" (click)="addSiteToUser()">Add</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>